syntax = "proto3";

package gen;

option go_package = "github.com/kacperborowieckb/gen-sql/shared/gen";

service DataService {
  rpc StartDataGeneration(StartDataGenerationRequest) returns (StartDataGenerationResponse);
  rpc GetProjectData(GetProjectDataRequest) returns (GetProjectDataResponse);
  rpc GetProjects(GetProjectsRequest) returns (GetProjectsResponse);
}

message StartDataGenerationRequest {
  string project_id = 1;
  string ddl_schema = 2;
  int32 max_rows = 3;
  string generation_instructions = 4;
}

message StartDataGenerationResponse {
  string generation_job_id = 1;
  string message = 2;
  bool success = 3;
}

message GetProjectDataRequest {
  string project_id = 1;
}

message GetProjectDataResponse {
  string json_data = 1;
}

message GetProjectsRequest {}

message GetProjectsResponse {
  repeated string project_ids = 1;
}